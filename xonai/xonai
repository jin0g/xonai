#!/bin/sh
# xonai - Launch xonsh with xonai extension loaded

# Create temporary xonshrc file
TEMP_RC=$(mktemp -t xonai.XXXXXX.xsh)
trap "rm -f $TEMP_RC" EXIT

# Load user's existing xonshrc if it exists
[ -f "$HOME/.xonshrc" ] && echo "source $HOME/.xonshrc" >> "$TEMP_RC"

# Add xonai loading
echo "xontrib load xonai" >> "$TEMP_RC"

# Launch xonsh with custom rc file
XONSHRC="$TEMP_RC" exec xonsh "$@"